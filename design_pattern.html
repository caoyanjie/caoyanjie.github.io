---
layout: default
menu_index: 5
---

<div class="box">
  <p color="#fff">
  【装饰器模式】<br /><br />

  1. C++版<br />
  </p>
{% highlight c++ %}

  #include <iostream>
  #include <string>

  // 形状
  struct Shape
  {
      virtual std::string str() = 0;
  };

  // 圆
  struct Circle : Shape
  {
      // 重载基类虚函数
      std::string str() override
      {
          return std::string("圆的半径为：") + std::to_string(m_radius);
      }

  private:
      float m_radius = 10.0f;
  };

  // 形状颜色
  struct ColorShape : Shape
  {
      ColorShape(std::string color, Shape* shape)
      {
          m_color = color;
          m_shape = shape;
      }

      // 重载基类虚函数
      std::string str() override
      {
          return m_shape->str() + std::string(" 颜色为：") + m_color;
      }

  private:
      std::string    m_color;
      Shape*         m_shape;
  };

  int main()
  {
      Circle c;
      ColorShape cc("红色", &c);
      std::cout << cc.str() << std::endl;
  }

{% endhighlight %}

</div>